(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const v of l.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&a(v)}).observe(document,{childList:!0,subtree:!0});function o(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerpolicy&&(l.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?l.credentials="include":u.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(u){if(u.ep)return;u.ep=!0;const l=o(u);fetch(u.href,l)}})();var I={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(r,i){(function(o){var a=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},u=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},l=function(e){var t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;var n=e*e;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},v=function(e,t){var n=Math.abs(e),h=Math.abs(t);return n<3e3&&h<3e3?Math.sqrt(n*n+h*h):(n<h?(n=h,h=e/t):h=t/e,n*Math.sqrt(1+h*h))},p=function(){throw SyntaxError("Invalid Param")};function b(e,t){var n=Math.abs(e),h=Math.abs(t);return e===0?Math.log(h):t===0?Math.log(n):n<3e3&&h<3e3?Math.log(e*e+t*t)*.5:(e=e/2,t=t/2,.5*Math.log(e*e+t*t)+Math.LN2)}var P=function(e,t){var n={re:0,im:0};if(e==null)n.re=n.im=0;else if(t!==void 0)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return s.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return s.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else e.length===2?(n.re=e[0],n.im=e[1]):p();break;case"string":n.im=n.re=0;var h=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,d=0;h===null&&p();for(var f=0;f<h.length;f++){var M=h[f];M===" "||M==="	"||M===`
`||(M==="+"?m++:M==="-"?d++:M==="i"||M==="I"?(m+d===0&&p(),h[f+1]!==" "&&!isNaN(h[f+1])?(n.im+=parseFloat((d%2?"-":"")+h[f+1]),f++):n.im+=parseFloat((d%2?"-":"")+"1"),m=d=0):((m+d===0||isNaN(M))&&p(),h[f+1]==="i"||h[f+1]==="I"?(n.im+=parseFloat((d%2?"-":"")+M),f++):n.re+=parseFloat((d%2?"-":"")+M),m=d=0))}m+d>0&&p();break;case"number":n.im=0,n.re=e;break;default:p()}return isNaN(n.re)||isNaN(n.im),n};function s(e,t){if(!(this instanceof s))return new s(e,t);var n=P(e,t);this.re=n.re,this.im=n.im}s.prototype={re:0,im:0,sign:function(){var e=this.abs();return new s(this.re/e,this.im/e)},add:function(e,t){var n=new s(e,t);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re+n.re,this.im+n.im)},sub:function(e,t){var n=new s(e,t);return this.isInfinite()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:new s(this.re-n.re,this.im-n.im)},mul:function(e,t){var n=new s(e,t);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?s.NAN:this.isInfinite()||n.isInfinite()?s.INFINITY:n.im===0&&this.im===0?new s(this.re*n.re,0):new s(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){var n=new s(e,t);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return s.NAN;if(this.isInfinite()||n.isZero())return s.INFINITY;if(this.isZero()||n.isInfinite())return s.ZERO;e=this.re,t=this.im;var h=n.re,m=n.im,d,f;return m===0?new s(e/h,t/h):Math.abs(h)<Math.abs(m)?(f=h/m,d=h*f+m,new s((e*f+t)/d,(t*f-e)/d)):(f=m/h,d=m*f+h,new s((e+t*f)/d,(t-e*f)/d))},pow:function(e,t){var n=new s(e,t);if(e=this.re,t=this.im,n.isZero())return s.ONE;if(n.im===0){if(t===0&&e>0)return new s(Math.pow(e,n.re),0);if(e===0)switch((n.re%4+4)%4){case 0:return new s(Math.pow(t,n.re),0);case 1:return new s(0,Math.pow(t,n.re));case 2:return new s(-Math.pow(t,n.re),0);case 3:return new s(0,-Math.pow(t,n.re))}}if(e===0&&t===0&&n.re>0&&n.im>=0)return s.ZERO;var h=Math.atan2(t,e),m=b(e,t);return e=Math.exp(n.re*m-n.im*h),t=n.im*m+n.re*h,new s(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e=this.re,t=this.im,n=this.abs(),h,m;if(e>=0){if(t===0)return new s(Math.sqrt(e),0);h=.5*Math.sqrt(2*(n+e))}else h=Math.abs(t)/Math.sqrt(2*(n-e));return e<=0?m=.5*Math.sqrt(2*(n-e)):m=Math.abs(t)/Math.sqrt(2*(n+e)),new s(h,t<0?-m:m)},exp:function(){var e=Math.exp(this.re);return this.im,new s(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new s(Math.expm1(e)*Math.cos(t)+l(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new s(b(e,t),Math.atan2(t,e))},abs:function(){return v(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new s(Math.sin(e)*a(t),Math.cos(e)*u(t))},cos:function(){var e=this.re,t=this.im;return new s(Math.cos(e)*a(t),-Math.sin(e)*u(t))},tan:function(){var e=2*this.re,t=2*this.im,n=Math.cos(e)+a(t);return new s(Math.sin(e)/n,u(t)/n)},cot:function(){var e=2*this.re,t=2*this.im,n=Math.cos(e)-a(t);return new s(-Math.sin(e)/n,u(t)/n)},sec:function(){var e=this.re,t=this.im,n=.5*a(2*t)+.5*Math.cos(2*e);return new s(Math.cos(e)*a(t)/n,Math.sin(e)*u(t)/n)},csc:function(){var e=this.re,t=this.im,n=.5*a(2*t)-.5*Math.cos(2*e);return new s(Math.sin(e)*a(t)/n,-Math.cos(e)*u(t)/n)},asin:function(){var e=this.re,t=this.im,n=new s(t*t-e*e+1,-2*e*t).sqrt(),h=new s(n.re-t,n.im+e).log();return new s(h.im,-h.re)},acos:function(){var e=this.re,t=this.im,n=new s(t*t-e*e+1,-2*e*t).sqrt(),h=new s(n.re-t,n.im+e).log();return new s(Math.PI/2-h.im,h.re)},atan:function(){var e=this.re,t=this.im;if(e===0){if(t===1)return new s(0,1/0);if(t===-1)return new s(0,-1/0)}var n=e*e+(1-t)*(1-t),h=new s((1-t*t-e*e)/n,-2*e/n).log();return new s(-.5*h.im,.5*h.re)},acot:function(){var e=this.re,t=this.im;if(t===0)return new s(Math.atan2(1,e),0);var n=e*e+t*t;return n!==0?new s(e/n,-t/n).atan():new s(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){var e=this.re,t=this.im;if(e===0&&t===0)return new s(0,1/0);var n=e*e+t*t;return n!==0?new s(e/n,-t/n).acos():new s(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){var e=this.re,t=this.im;if(e===0&&t===0)return new s(Math.PI/2,1/0);var n=e*e+t*t;return n!==0?new s(e/n,-t/n).asin():new s(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){var e=this.re,t=this.im;return new s(u(e)*Math.cos(t),a(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new s(a(e)*Math.cos(t),u(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,n=a(e)+Math.cos(t);return new s(u(e)/n,Math.sin(t)/n)},coth:function(){var e=2*this.re,t=2*this.im,n=a(e)-Math.cos(t);return new s(u(e)/n,-Math.sin(t)/n)},csch:function(){var e=this.re,t=this.im,n=Math.cos(2*t)-a(2*e);return new s(-2*u(e)*Math.cos(t)/n,2*a(e)*Math.sin(t)/n)},sech:function(){var e=this.re,t=this.im,n=Math.cos(2*t)+a(2*e);return new s(2*a(e)*Math.cos(t)/n,-2*u(e)*Math.sin(t)/n)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t}else{var t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){var e=this.re,t=this.im,n=e>1&&t===0,h=1-e,m=1+e,d=h*h+t*t,f=d!==0?new s((m*h-t*t)/d,(t*h+m*t)/d):new s(e!==-1?e/0:0,t!==0?t/0:0),M=f.re;return f.re=b(f.re,f.im)/2,f.im=Math.atan2(f.im,M)/2,n&&(f.im=-f.im),f},acoth:function(){var e=this.re,t=this.im;if(e===0&&t===0)return new s(0,Math.PI/2);var n=e*e+t*t;return n!==0?new s(e/n,-t/n).atanh():new s(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){var e=this.re,t=this.im;if(t===0)return new s(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var n=e*e+t*t;return n!==0?new s(e/n,-t/n).asinh():new s(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return s.INFINITY;var n=e*e+t*t;return n!==0?new s(e/n,-t/n).acosh():new s(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var e=this.re,t=this.im,n=e*e+t*t;return new s(e/n,-t/n)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new s(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new s(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new s(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){var n=new s(e,t);return Math.abs(n.re-this.re)<=s.EPSILON&&Math.abs(n.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<s.EPSILON&&(e=0),Math.abs(t)<s.EPSILON&&(t=0),t===0?n+e:(e!==0?(n+=e,n+=" ",t<0?(t=-t,n+="-"):n+="+",n+=" "):t<0&&(t=-t,n+="-"),t!==1&&(n+=t),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,r.exports=s})()})(I);var w={},c={};Object.defineProperty(c,"__esModule",{value:!0});c.polarToRectangular=c.makeBoundedLinear=c.makeLinear=R=c.sum=c.countMap=c.initializedArray=c.count=S=c.zip=c.FIGURE_SPACE=c.NON_BREAKING_SPACE=c.dateIsValid=c.MIN_DATE=c.MAX_DATE=c.makePromise=c.filterMap=c.pick=c.pickAny=c.csvStringToArray=c.parseTimeT=c.parseIntX=c.parseFloatX=c.getAttribute=c.followPath=c.parseXml=c.testXml=c.sleep=c.assertClass=void 0;function K(r,i,o="Assertion Failed."){const a=u=>{throw new Error(`${o}  Expected type:  ${i.name}.  Found type:  ${u}.`)};if(r===null)a("null");else if(typeof r!="object")a(typeof r);else if(!(r instanceof i))a(r.constructor.name);else return r;throw new Error("wtf")}c.assertClass=K;function J(r){return new Promise(i=>setTimeout(i,r))}c.sleep=J;function Z(r){const o=new DOMParser().parseFromString(r,"application/xml");for(const a of Array.from(o.querySelectorAll("parsererror")))if(a instanceof HTMLElement)return{error:a};return{parsed:o}}c.testXml=Z;function Q(r){if(r!==void 0)return Z(r)?.parsed?.documentElement}c.parseXml=Q;function k(r,...i){for(const o of i){if(r===void 0)return;if(typeof o=="number")r=r.children[o];else{const a=r.getElementsByTagName(o);if(a.length!=1)return;r=a[0]}}return r}c.followPath=k;function ee(r,i,...o){if(i=k(i,...o),i!==void 0&&!!i.hasAttribute(r))return i.getAttribute(r)??void 0}c.getAttribute=ee;function B(r){if(r==null)return;const i=parseFloat(r);if(isFinite(i))return i}c.parseFloatX=B;function q(r){const i=B(r);if(i!==void 0)return i>Number.MAX_SAFE_INTEGER||i<Number.MIN_SAFE_INTEGER||i!=Math.floor(i)?void 0:i}c.parseIntX=q;function te(r){if(typeof r=="string"&&(r=q(r)),r!=null&&!(r<=0))return new Date(r*1e3)}c.parseTimeT=te;const ne=r=>{const i=/(,|\r?\n|\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^,\r\n]*))/gi,o=[[]];let a;for(;a=i.exec(r);)a[1].length&&a[1]!==","&&o.push([]),o[o.length-1].push(a[2]!==void 0?a[2].replace(/""/g,'"'):a[3]);return o};c.csvStringToArray=ne;function re(r){const i=r.values().next();if(!i.done)return i.value}c.pickAny=re;function ie(r){return r[Math.random()*r.length|0]}c.pick=ie;function se(r,i){const o=[];return r.forEach((a,u)=>{const l=i(a,u);l!==void 0&&o.push(l)}),o}c.filterMap=se;function ae(){let r,i;return{promise:new Promise((a,u)=>{r=a,i=u}),resolve:r,reject:i}}c.makePromise=ae;c.MAX_DATE=new Date(864e13);c.MIN_DATE=new Date(-864e13);function oe(r){return isFinite(r.getTime())}c.dateIsValid=oe;c.NON_BREAKING_SPACE="\xA0";c.FIGURE_SPACE="\u2007";function*ue(...r){const i=r.map(o=>o[Symbol.iterator]());for(;;){const o=i.map(a=>a.next());if(o.some(({done:a})=>a))break;yield o.map(({value:a})=>a)}}var S=c.zip=ue;function*ce(r=0,i=1/0,o=1){for(let a=r;a<i;a+=o)yield a}c.count=ce;function D(r,i){const o=[];for(let a=0;a<r;a++)o.push(i(a));return o}c.initializedArray=D;c.countMap=D;function he(r){return r.reduce((i,o)=>i+o,0)}var R=c.sum=he;function le(r,i,o,a){const u=(a-i)/(o-r);return function(l){return(l-r)*u+i}}c.makeLinear=le;function fe(r,i,o,a){o<r&&([r,i,o,a]=[o,a,r,i]);const u=(a-i)/(o-r);return function(l){return l<=r?i:l>=o?a:(l-r)*u+i}}c.makeBoundedLinear=fe;function me(r,i){return{x:Math.sin(i)*r,y:Math.cos(i)*r}}c.polarToRectangular=me;Object.defineProperty(w,"__esModule",{value:!0});w.createElementFromHTML=w.getHashInfo=w.getAudioBalanceControl=w.getBlobFromCanvas=w.loadDateTimeLocal=g=w.getById=void 0;const H=c;function de(r,i){const o=document.getElementById(r);if(!o)throw new Error("Could not find element with id "+r+".  Expected type:  "+i.name);if(o instanceof i)return o;throw new Error("Element with id "+r+" has type "+o.constructor.name+".  Expected type:  "+i.name)}var g=w.getById=de;function ve(r,i,o="milliseconds"){let a;switch(o){case"minutes":{a=i.getSeconds()*1e3+i.getMilliseconds();break}case"seconds":{a=i.getMilliseconds();break}case"milliseconds":{a=0;break}default:throw new Error("wtf")}r.valueAsNumber=+i-i.getTimezoneOffset()*6e4-a}w.loadDateTimeLocal=ve;function pe(r){const{reject:i,resolve:o,promise:a}=(0,H.makePromise)();return r.toBlob(u=>{u?o(u):i(new Error("blob is null!"))}),a}w.getBlobFromCanvas=pe;function we(r){const i=new AudioContext,o=i.createMediaElementSource(r),a=new StereoPannerNode(i,{pan:0});return o.connect(a).connect(i.destination),u=>{a.pan.value=u}}w.getAudioBalanceControl=we;function Me(){const r=new Map;return/^#?(.*)$/.exec(location.hash.replace("+","%20"))[1].split("&").forEach(a=>{const u=a.split("=",2);if(u.length==2){const l=decodeURIComponent(u[0]),v=decodeURIComponent(u[1]);r.set(l,v)}}),r}w.getHashInfo=Me;function Ie(r,i){var o=document.createElement("div");return o.innerHTML=r.trim(),(0,H.assertClass)(o.firstChild,i,"createElementFromHTML:")}w.createElementFromHTML=Ie;function*z(r,i=[]){if(r.length==0)yield i;else for(let o=0;o<r.length;o++){const a=r[o],u=[...i,a],l=[...r.slice(0,o),...r.slice(o+1)];yield*z(l,u)}}function V(r,i){if(!(i instanceof Array))return r;if(r.length!=i.length)throw new Error("wtf");let o=1/0,a;for(const u of z(r)){let l=0;for(const[v,p]of S(u,i))l+=v.sub(p).abs();l<o&&(o=l,a=u)}return a}const T=new I.exports.Complex(1),G=[{shortName:"Square Root",allWs(r,i){const o=r.sqrt(),a=[o,o.neg()];return V(a,i)},error(r,i){return r.pow(2).sub(i).abs()},branchPoints:[I.exports.Complex.ZERO],initialZ:new I.exports.Complex(4)},{shortName:"Natural Log",allWs(r,i){function o(u,l){return u.add(0,l)}const a=r.log();return i?i.map(u=>{const l=u.im-a.im,v=Math.round(l/(Math.PI*2))*Math.PI*2;return o(a,v)}):[o(a,Math.PI*4),o(a,Math.PI*2),a,o(a,-Math.PI*2),o(a,-Math.PI*4)]},error(r,i){return r.exp().sub(i).abs()},branchPoints:[I.exports.Complex.ZERO],initialZ:I.exports.Complex.E},{shortName:"w\xB3-zw-2 = 0",initialZ:I.exports.Complex.ZERO,branchPoints:[new I.exports.Complex(3),new I.exports.Complex({r:3,phi:Math.PI*2/3}),new I.exports.Complex({r:3,phi:Math.PI*4/3})],allWs(r,i){const o=T.sub(r.pow(3).div(27)).sqrt(),a=r.isZero()?T:r.div(r.pow(3).pow(1/3)),u=T.add(o).pow(1/3),l=a.mul(T.sub(o).pow(1/3)),v=u.add(l),p=u.sub(l).mul(0,.866025403785),b=u.add(l).mul(-.5),P=b.add(p),s=b.sub(p);return V([v,P,s],i)},error(r,i){return r.pow(3).sub(i.mul(r)).sub(2).abs()}}],C=g("formula",HTMLSelectElement);G.forEach(r=>{const i=document.createElement("option");i.innerText=r.shortName,C.appendChild(i)});const X=g("bottom",SVGGElement),j=g("main",SVGGElement),F=g("top",SVGGElement),Y=g("positionInfo",HTMLDivElement),be=g("errorInfo",HTMLDivElement),_=new Intl.NumberFormat("en-US",{minimumSignificantDigits:4,maximumSignificantDigits:4});function ge(r){const i=r.re,o=r.im;let a="";return(i|0)==i?a+=i:a+=_.format(i),o!=0&&(o>0&&(a+="+"),(o|0)==o?a+=o:a+=_.format(o),a+="\u{1D4F2}"),a}class O{constructor(i,o){this.color=i,this.#e=o,this.#t=o;const a=document.createElement("div");a.style.color=i,Y.appendChild(a),this.#i=a,this.displayValue();const u=o.re,l=-o.im,v=document.createElementNS("http://www.w3.org/2000/svg","circle");v.cx.baseVal.value=u,v.cy.baseVal.value=l,v.r.baseVal.value=.2,v.style.setProperty("--base-color",i),F.appendChild(v),this.#r=v;const p=document.createElementNS("http://www.w3.org/2000/svg","rect"),b=.5;p.x.baseVal.value=u-b/2,p.y.baseVal.value=l-b/2,p.width.baseVal.value=b,p.height.baseVal.value=b,p.style.setProperty("--base-color",i),X.appendChild(p),this.newLine()}#r;#n;#e;get currentValue(){return this.#e}set currentValue(i){const o=i.re,a=-i.im,u=this.#n;u.x2.baseVal.value=o,u.y2.baseVal.value=a;const l=this.#r;l.cx.baseVal.value=o,l.cy.baseVal.value=a,this.#e=i,this.displayValue()}#t;undo(){this.currentValue=this.#t}get lastSaved(){return this.#t}#i;displayValue(){this.#i.innerText=ge(this.#e)}newLine(){const i=this.#e,o=i.re,a=-i.im,u=document.createElementNS("http://www.w3.org/2000/svg","line");u.x1.baseVal.value=o,u.y1.baseVal.value=a,u.x2.baseVal.value=o,u.y2.baseVal.value=a,u.setAttribute("stroke",this.color),u.classList.add("active"),this.#n?.classList?.remove("active"),j.appendChild(u),this.#n=u,this.#t=i}save(){this.#e.equals(this.#t)||this.newLine()}}let N,y,E;function A(){X.innerHTML="",j.innerHTML="",F.innerHTML="",Y.innerHTML="",N=G[C.selectedIndex];const r=N.initialZ;y=new O("black",r);const i=N.allWs(r);E=i.map((o,a)=>{const u=`hsl(${a/i.length}turn, 100%, 50%)`;return new O(u,o)}),$();for(const o of N.branchPoints){const a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.classList.add("branch-point"),a.cx.baseVal.value=o.re,a.cy.baseVal.value=-o.im,a.r.baseVal.value=.1,F.appendChild(a)}}A();C.addEventListener("change",()=>{A()});g("reset",HTMLButtonElement).addEventListener("click",()=>A());function $(){const r=y.currentValue,i=R(E.map(o=>N.error(o.currentValue,r)));be.innerText=`Total error = ${i}`}function U(r){y.currentValue=r;for(const[i,o]of S(N.allWs(r,E.map(a=>a.lastSaved)),E))o.currentValue=i;$()}window.updateZ=(r,i)=>{U(new I.exports.Complex(r,i))};const x=document.querySelector("svg"),L=x.createSVGPoint();function Ne(r){L.x=r.clientX,L.y=r.clientY;const i=L.matrixTransform(x.getScreenCTM().inverse());return new I.exports.Complex(i.x,-i.y)}function W(){y.save(),E.forEach(r=>r.save())}x.addEventListener("mouseleave",()=>{y.undo(),E.forEach(r=>r.undo())});x.addEventListener("mousemove",r=>{U(Ne(r)),r.buttons&1&&W()});x.addEventListener("mouseup",r=>{W()});
